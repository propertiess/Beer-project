"use strict";(self.webpackChunkbeer=self.webpackChunkbeer||[]).push([[443],{3443:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(4165),s=t(5861),i=t(885),c=t(2791),a=t(7022),l=t(3068),o=t(9743),u=t(2677),d=t(3855),x=t(8116),h=t(4569),m=t.n(h),f=t(1968),p=t.n(f),j=t(6871),Z=t(7489),b=t(9140),v=t(3360),g=t(1140),N={hidden:{opacity:0,x:-30},visible:function(e){return{opacity:1,x:0,transition:{delay:.2*e,duration:.5}}}},w=t(184),y=function(e){var n=e.beer,t=e.onClick;return(0,w.jsx)(u.Z,{sm:12,md:6,xl:3,className:"overflow-hidden d-flex align-items-stretch",as:g.E.div,initial:"hidden",whileInView:"visible",variants:N,viewport:{once:!0},children:(0,w.jsxs)(b.Z,{children:[(0,w.jsxs)(b.Z.Body,{className:"item overflow-hidden",children:[(0,w.jsx)(a.Z,{className:"d-flex justify-content-center mb-3",children:(0,w.jsx)("img",{alt:n.name,className:"img-fluid item__img",src:n.image_url})}),(0,w.jsx)(b.Z.Title,{children:n.name}),(0,w.jsx)(b.Z.Text,{children:function(e,n){if((e=e.trim()).length<=n)return e;var t=(e=e.slice(0,n)).lastIndexOf("...");return t>0&&(e=e.substr(0,t)),e+"..."}(n.description,140)})]}),(0,w.jsx)("footer",{className:"pb-2 mt-auto ms-3 btn_center",children:(0,w.jsx)(v.Z,{onClick:function(){return t(n)},variant:"primary",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})})},k=t(6928),C=function(e){var n=e.beers,t=e.isBeersLoading,r=e.search,s=(0,c.useState)(!1),l=(0,i.Z)(s,2),u=l[0],d=l[1],x=(0,j.s0)();return(0,c.useEffect)((function(){""!==r?n.length>0?d(!1):0===n.length&&d(!0):""===r&&n.length&&d(!1)}),[r]),(0,w.jsxs)(o.Z,{className:"flex-wrap gap-5 justify-content-center mb-5 position-relative",children:[(0,w.jsx)(k.Z,{in:u,timeout:300,classNames:"nothing",mountOnEnter:!0,unmountOnExit:!0,children:(0,w.jsx)(a.Z,{className:"position-absolute",children:(0,w.jsx)(o.Z,{children:(0,w.jsx)("h2",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})})}),t?(0,w.jsx)(a.Z,{children:(0,w.jsx)(o.Z,{className:"justify-content-center text-center",children:(0,w.jsx)(p(),{color:"blue"})})}):n.map((function(e){return(0,w.jsx)(y,{beer:e,onClick:function(){return x("/beers/"+e.id)}},e.id)}))]})},S=function(){var e=(0,c.useState)([]),n=(0,i.Z)(e,2),t=n[0],h=n[1],f=(0,c.useState)(0),b=(0,i.Z)(f,2),v=b[0],g=b[1],N=(0,c.useState)(1),y=(0,i.Z)(N,2),k=y[0],S=y[1],_=(0,c.useState)(""),E=(0,i.Z)(_,2),L=E[0],O=E[1],B=(0,j.UO)(),I=(0,j.s0)(),T=function(e){for(var n=[],t=0;t<e;t++)n.push(t+1);return n}(v),M=(0,c.useState)(!1),U=(0,i.Z)(M,2),V=U[0],q=U[1],z=function(e){I("/beers/page/"+e),S(e),O(""),window.scrollTo({top:0,behavior:"smooth"})},A=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(!0);case 3:if(!(Number(B.id)>9)){e.next=13;break}return I("/beers/page/9"),z(9),e.next=8,m().get("https://api.punkapi.com/v2/beers?page=9&per_page=".concat(9));case 8:return n=e.sent,h(n.data),e.next=12,q(!1);case 12:return e.abrupt("return");case 13:return e.next=15,m().get("https://api.punkapi.com/v2/beers?page=".concat(B.id,"&per_page=").concat(9));case 15:return t=e.sent,h(t.data),S(Number(B.id)),g(9),e.next=21,q(!1);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){A()}),[k]);var D=(0,c.useMemo)((function(){return t.filter((function(e){return e.name.toLowerCase().includes(L.toLowerCase())}))}),[L,t]);return(0,w.jsxs)("div",{className:"wrapper d-flex  flex-column flex-grow min-vh-100",children:[(0,w.jsx)(Z.Z,{}),(0,w.jsxs)(a.Z,{children:[(0,w.jsx)("div",{children:(0,w.jsx)(l.Z,{children:(0,w.jsx)(a.Z,{children:(0,w.jsx)(o.Z,{className:"w-100 mx-auto justify-content-center py-2 mb-3",children:(0,w.jsx)(u.Z,{sm:12,md:7,lg:7,children:(0,w.jsx)(d.Z,{className:"d-flex",children:(0,w.jsx)(d.Z.Control,{type:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a",value:L,className:"me-2","aria-label":"Search",onChange:function(e){return O(e.target.value)}})})})})})})}),(0,w.jsx)("main",{children:(0,w.jsx)(a.Z,{children:V?(0,w.jsx)(a.Z,{children:(0,w.jsxs)(o.Z,{className:"justify-content-center text-center",children:[(0,w.jsx)(p(),{color:"blue"}),(0,w.jsx)("h2",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})}):(0,w.jsx)(C,{isBeersLoading:V,search:L,beers:D})})})]}),(0,w.jsx)("footer",{className:"mt-auto",children:(0,w.jsx)(a.Z,{children:(0,w.jsx)(o.Z,{className:"pb-3",children:(0,w.jsx)(u.Z,{className:"d-flex gap-1 justify-content-center",children:T.map((function(e){return(0,w.jsx)(x.Z,{onClick:function(){return z(e)},children:(0,w.jsx)(x.Z.Item,{active:e===k,children:e})},e)}))})})})})]})}}}]);
//# sourceMappingURL=443.46e9e28b.chunk.js.map