{"version":3,"file":"static/js/443.46e9e28b.chunk.js","mappings":"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","sources":["Animation presets/animation.ts","components/BeerItem.tsx","components/BeerList.tsx","components/Products.tsx","utils/page.ts"],"sourcesContent":["export const variants = {\r\n    hidden: {\r\n        opacity: 0,\r\n        x: -30,\r\n\r\n    },\r\n    visible: (custom: number) => ({\r\n        opacity: 1,\r\n        x: 0,\r\n        transition: {delay: custom * 0.2, duration: 0.5},\r\n    })\r\n}","import React from 'react'\r\nimport {IBeer} from '../types/types';\r\nimport {Button, Card, Col, Container} from \"react-bootstrap\";\r\nimport '../styles/BeerItem.css'\r\nimport {motion} from \"framer-motion\";\r\nimport {variants} from \"../Animation presets/animation\";\r\n\r\ninterface IBeerItemProps {\r\n    beer: IBeer;\r\n    onClick: (beer: IBeer) => void;\r\n\r\n}\r\nexport const BeerItem = ({beer, onClick}: IBeerItemProps) => {\r\n    function CutDesc(text: string, limit: number) {\r\n        text = text.trim();\r\n        if (text.length <= limit) return text;\r\n        text = text.slice(0, limit);\r\n        let lastSpace = text.lastIndexOf(\"...\");\r\n        if (lastSpace > 0) {\r\n            text = text.substr(0, lastSpace);\r\n        }\r\n        return text + \"...\";\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Col sm={12} md={6} xl={3}  className={'overflow-hidden d-flex align-items-stretch'} as={motion.div}\r\n        initial={'hidden'}\r\n         whileInView={'visible'}\r\n         variants={variants}\r\n         viewport={{once: true,}}\r\n        >\r\n\r\n            <Card>\r\n                <Card.Body className={'item overflow-hidden'}>\r\n                    <Container className={'d-flex justify-content-center mb-3'}>\r\n                        <img alt={beer.name} className={'img-fluid item__img'} src={beer.image_url}/>\r\n\r\n                    </Container>\r\n                    <Card.Title>{beer.name}</Card.Title>\r\n                    <Card.Text>\r\n                        {CutDesc(beer.description, 140)}\r\n                    </Card.Text>\r\n\r\n                </Card.Body>\r\n                <footer className={'pb-2 mt-auto ms-3 btn_center'}>\r\n                    <Button onClick={() => onClick(beer)} variant=\"primary\">Узнать подробнее</Button>\r\n                </footer>\r\n            </Card>\r\n\r\n\r\n        </Col>\r\n    )\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {IBeer} from \"../types/types\";\r\nimport {BeerItem} from \"./BeerItem\";\r\nimport {Container, Row} from \"react-bootstrap\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport ReactLoading from \"react-loading\";\r\nimport {CSSTransition} from \"react-transition-group\";\r\nimport '../styles/BeerList.css'\r\ninterface IBeerListProps {\r\n    beers: IBeer[];\r\n    isBeersLoading: boolean;\r\n    search: string;\r\n}\r\n\r\nconst BeerList = ({beers, isBeersLoading, search}: IBeerListProps) => {\r\n    const [nothing, setNothing] = useState(false);\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        if (search !== '') {\r\n            if (beers.length > 0) {\r\n                setNothing(false);\r\n            } else if (beers.length === 0) {\r\n                setNothing(true);\r\n            }\r\n        } else if (search === '') {\r\n            if(beers.length) {\r\n                setNothing(false);\r\n            }\r\n        }\r\n\r\n    }, [search])\r\n    return (\r\n        <Row className={'flex-wrap gap-5 justify-content-center mb-5 position-relative'}>\r\n            <CSSTransition in={nothing} timeout={300} classNames={'nothing'} mountOnEnter unmountOnExit>\r\n                <Container className={'position-absolute'}>\r\n                    <Row>\r\n                    <h2>Ничего не найдено</h2>\r\n                </Row></Container>\r\n\r\n            </CSSTransition>\r\n            {isBeersLoading\r\n                ? <Container>\r\n                    <Row className={'justify-content-center text-center'}>\r\n                        <ReactLoading color={'blue'}></ReactLoading>\r\n                    </Row>\r\n                </Container>\r\n                : beers.map(beer => (\r\n                    <BeerItem key={beer.id} beer={beer} onClick={() => navigate('/beers/' + beer.id)}></BeerItem>))\r\n            }\r\n\r\n\r\n        </Row>\r\n    );\r\n};\r\n\r\nexport default BeerList;","import React, {useEffect, useMemo, useState} from 'react';\r\nimport {Col, Container, Form, Navbar, Row} from \"react-bootstrap\";\r\nimport Pagination from 'react-bootstrap/Pagination';\r\nimport {IBeer} from \"../types/types\";\r\nimport axios from \"axios\";\r\nimport {getPagesArray} from \"../utils/page\";\r\nimport ReactLoading from 'react-loading';\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport NavRouter from \"./NavRouter\";\r\nimport BeerList from \"./BeerList\";\r\n\r\n\r\ntype Products = {\r\n    id: string;\r\n}\r\nconst HomePage = () => {\r\n\r\n    const [beers, setBeers] = useState<IBeer[]>([]);\r\n    const [totalPages, setTotalPages] = useState<number>(0);\r\n    const limit = 9;\r\n    const [page, setPage] = useState<number>(1);\r\n    const [search, setSearch] = useState('')\r\n    const params = useParams<Products>();\r\n    const navigate = useNavigate();\r\n    let pagesArray = getPagesArray(totalPages);\r\n    const [isBeersLoading, setIsBeersLoading] = useState(false);\r\n\r\n    const changePage = (p: number) => {\r\n        navigate('/beers/page/' + p)\r\n        setPage(p);\r\n        setSearch('');\r\n        window.scrollTo({top: 0, behavior: 'smooth'});\r\n    }\r\n\r\n    const getBeers = async () => {\r\n        try {\r\n            await setIsBeersLoading(true);\r\n            if(Number(params.id) > 9) {\r\n                navigate('/beers/page/9');\r\n                changePage(9);\r\n                const res = await axios.get<IBeer[]>(`https://api.punkapi.com/v2/beers?page=9&per_page=${limit}`);\r\n                setBeers(res.data);\r\n                await setIsBeersLoading(false);\r\n                return;\r\n            }\r\n            const res = await axios.get<IBeer[]>(`https://api.punkapi.com/v2/beers?page=${params.id}&per_page=${limit}`);\r\n            setBeers(res.data);\r\n            setPage(Number(params.id));\r\n            setTotalPages(9);\r\n            await setIsBeersLoading(false);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        getBeers();\r\n    }, [page])\r\n\r\n    const filteredBeers = useMemo(() => {\r\n        return beers.filter(beer => beer.name.toLowerCase().includes(search.toLowerCase()));\r\n    }, [search,beers]);\r\n\r\n\r\n    return (\r\n        <div className={'wrapper d-flex  flex-column flex-grow min-vh-100'}>\r\n            <NavRouter></NavRouter>\r\n            <Container>\r\n                <div>\r\n                    <Navbar>\r\n                        <Container>\r\n                            <Row className={\"w-100 mx-auto justify-content-center py-2 mb-3\"}>\r\n                                <Col sm={12} md={7} lg={7}>\r\n                                    <Form className=\"d-flex\">\r\n                                        <Form.Control\r\n                                            type=\"search\"\r\n                                            placeholder=\"Поиск\"\r\n                                            value={search}\r\n                                            className=\"me-2\"\r\n                                            aria-label=\"Search\"\r\n                                            onChange={(e) => setSearch(e.target.value)}\r\n                                        />\r\n                                    </Form>\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </Navbar>\r\n                </div>\r\n\r\n                <main>\r\n                    <Container>\r\n                        {isBeersLoading\r\n                        ? (<Container>\r\n                                <Row className={'justify-content-center text-center'}>\r\n                                    <ReactLoading color={'blue'}></ReactLoading>\r\n                                    <h2>Загрузка</h2>\r\n                                </Row>\r\n                            </Container>)\r\n                        : <BeerList isBeersLoading={isBeersLoading} search={search} beers={filteredBeers}></BeerList>\r\n                        }\r\n                    </Container>\r\n                </main>\r\n\r\n\r\n\r\n            </Container>\r\n            <footer className={'mt-auto'}>\r\n                <Container>\r\n                    <Row className={'pb-3'}>\r\n                        <Col className={'d-flex gap-1 justify-content-center'}>\r\n                            {pagesArray.map(p => <Pagination onClick={() => changePage(p)} key={p}><Pagination.Item\r\n                                active={p === page}>{p}</Pagination.Item></Pagination>)}\r\n\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </Container>\r\n            </footer>\r\n\r\n        </div>\r\n\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default HomePage;","\r\nexport const getPagesArray = (totalPages: number) => {\r\n    let result: number[] = [];\r\n    for (let i = 0; i < totalPages; i++) {\r\n        result.push(i + 1);\r\n    }\r\n    return result;\r\n}"],"names":["variants","hidden","opacity","x","visible","custom","transition","delay","duration","BeerItem","beer","onClick","Col","sm","md","xl","className","as","motion","initial","whileInView","viewport","once","Card","Container","alt","name","src","image_url","text","limit","trim","length","lastSpace","slice","lastIndexOf","substr","CutDesc","description","Button","variant","beers","isBeersLoading","search","useState","nothing","setNothing","navigate","useNavigate","useEffect","Row","CSSTransition","in","timeout","classNames","mountOnEnter","unmountOnExit","color","map","id","setBeers","totalPages","setTotalPages","page","setPage","setSearch","params","useParams","pagesArray","result","i","push","getPagesArray","setIsBeersLoading","changePage","p","window","scrollTo","top","behavior","getBeers","Number","axios","res","data","console","log","filteredBeers","useMemo","filter","toLowerCase","includes","NavRouter","Navbar","lg","Form","type","placeholder","value","onChange","e","target","Pagination","active"],"sourceRoot":""}